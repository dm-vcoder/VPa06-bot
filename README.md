# Telegram Task Manager Bot

Telegram-бот для командной работы с задачами, созданный с использованием aiogram и SQLite.

## Описание

Этот бот позволяет команде добавлять, просматривать и управлять общим списком задач через Telegram интерфейс.

## Функциональность

### Команды бота:

- `/start` - приветствие и показ доступных команд
- `/add` - добавление новой задачи в общий список
- `/list` - просмотр всех задач в красивом формате
- `/list_csv` - скачивание списка задач в формате CSV
- `/del` - удаление задачи по ID

### Особенности:

- ✅ Простой и интуитивный интерфейс
- ✅ Хранение данных в SQLite базе данных
- ✅ Красивое форматирование списка задач
- ✅ Экспорт данных в CSV формат
- ✅ Безопасное удаление задач
- ✅ Обработка ошибок и валидация данных
- ✅ Подробные комментарии в коде

## Структура проекта

```
VPb06-tlg-task-manager/
├── config/                 # Конфигурация
│   ├── __init__.py
│   └── settings.py        # Настройки приложения
├── database/              # Работа с базой данных
│   ├── __init__.py
│   └── models.py         # Модели и классы для БД
├── handlers/             # Обработчики команд
│   ├── __init__.py
│   └── commands.py       # Обработчики команд бота
├── keyboards/            # Клавиатуры
│   ├── __init__.py
│   └── inline.py         # Inline клавиатуры
├── .env                  # Переменные окружения
├── requirements.txt      # Зависимости
├── main.py              # Точка входа
└── README.md            # Документация
```

## Установка и запуск

### 1. Клонирование и настройка окружения

```bash
# Создание виртуального окружения
python -m venv venv

# Активация виртуального окружения
# Windows:
venv\\Scripts\\activate
# Linux/Mac:
source venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt
```

### 2. Настройка бота

1. Получите токен бота у [@BotFather](https://t.me/BotFather) в Telegram:
   - Напишите `/newbot` в чат с @BotFather
   - Следуйте инструкциям для создания бота
   - Скопируйте полученный токен

2. Откройте файл `.env` и замените `your_bot_token_here` на ваш токен:

```env
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
```

**Важно:** Никогда не публикуйте ваш токен в открытом доступе!

### 3. Запуск бота

```bash
python main.py
```

## Использование

1. Найдите вашего бота в Telegram по имени
2. Отправьте команду `/start` для начала работы
3. Используйте команды для управления задачами:
   - `/add` - добавьте новую задачу
   - `/list` - просмотрите все задачи
   - `/list_csv` - скачайте CSV файл с задачами
   - `/del` - удалите задачу

## База данных

Бот использует SQLite базу данных с таблицей `tasks`:

| Поле | Тип | Описание |
|------|-----|----------|
| id | INTEGER | Уникальный идентификатор (автоинкремент) |
| text | TEXT | Текст задачи |
| user | TEXT | Имя пользователя, создавшего задачу |
| created_at | TIMESTAMP | Дата и время создания |

## Технические детали

- **Python 3.8+**
- **pyTelegramBotAPI 4.14.0** - простая и надежная библиотека для Telegram Bot API
- **SQLite3** - встроенная база данных
- **python-dotenv** - управление переменными окружения
- **StateMemoryStorage** - управление состояниями диалога

## Обработка ошибок

Бот включает в себя:
- Валидацию вводимых данных
- Обработку исключений базы данных
- Проверку корректности команд
- Защиту от некорректного ввода

## Разработка

Проект создан с использованием принципов ООП и модульной архитектуры:
- Разделение логики по модулям
- Инкапсуляция работы с базой данных
- Переиспользуемые компоненты
- Подробная документация кода

## Лицензия

MIT License
